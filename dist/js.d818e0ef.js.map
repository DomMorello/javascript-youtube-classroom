{"version":3,"sources":["src/js/utils/DOM.js","src/js/constants/API.js","src/js/constants/classroom.js","src/js/utils/queryString.js","src/js/API.js","src/js/states/pageToken.js","src/js/constants/localStorage.js","src/js/utils/localStorage.js","src/js/states/videoInfos.js","src/js/service.js","src/js/templates/keywordList.js","src/js/utils/date.js","src/js/templates/videoList.js","src/js/templates/videoSkeleton.js","src/js/templates/notFound.js","src/js/viewControllers/searchModal.js","src/js/states/latestKeywords.js","src/js/handlers/moreVideoLoading.js","src/js/states/intersectionObserver.js","src/js/handlers/videoSearch.js","src/js/constants/snackbarMessage.js","src/js/constants/filterType.js","src/js/viewControllers/app.js","src/js/constants/confirmMessage.js","src/js/states/videoListType.js","src/js/handlers/videoSave.js","src/js/handlers/latestKeywordSearch.js","src/js/handlers/buttonControl.js","src/js/handlers/modeChange.js","src/js/init.js","src/js/index.js"],"names":["$","selector","document","querySelector","YOUTUBE_BASE_URL","YOUTUBE_QUERY","PART","SNIPPET","ORDER","VIEWCOUNT","MAX_SAVED_VIDEO_COUNT","MAX_LATEST_KEYWORD_COUNT","FETCH_VIDEO_COUNT","NAN_CHARACTER","getQueryString","query","Object","entries","map","key","value","Array","join","fetchSearchResult","keyword","nextPageToken","part","order","VIEW_COUNT","maxResults","pageToken","q","queryString","fetch","then","data","json","catch","e","console","error","fetchLatestVideoInfos","videoIds","id","get","set","newToken","LATEST_KEYWORDS","VIDEO_INFOS","setLocalStorage","localStorage","setItem","JSON","stringify","getLocalStorage","parse","getItem","updateVideoInfos","videoInfos","videoInfo","videoId","items","snippet","title","channelId","channelTitle","publishTime","publishedAt","isWatched","find","Set","init","oldVideoInfos","latestVideoInfos","add","newVideoInfo","remove","targetId","newVideoInfos","filter","toggleWatchType","size","createVideoInfo","videoDataset","saveVideo","$video","dataset","cancelVideoSave","searchVideo","item","keywordChipTemplate","keywordListTemplate","latestKeywords","reverse","formatDate","dateString","d","Date","year","getFullYear","month","getMonth","date","getDate","videoSnippetTemplate","buttonListTemplate","encodeURIComponent","decodeURIComponent","saveButtonTemplate","isSaved","isSavedVideo","some","videoListTemplate","resultItems","controlButtonsTemplate","content","className","isChecked","savedVideoListTemplate","savedVideoInfos","watchType","emptyVideoListTemplate","skeletonClipTemplate","videoSkeletonTemplate","repeat","notFoundTemplate","$savedVideoCount","$latestKeywordList","$videoSearchResult","$videoSearchForm","renderSavedVideoCount","count","innerText","renderLatestKeywordList","innerHTML","renderVideoLoader","renderVideoSearchResult","length","appendVideos","searchResult","search","elements","click","toggleSaveButton","$saveButton","classList","contains","updateModalSaveButton","$targetSaveButton","newKeywords","newKeyword","targetIdx","indexOf","splice","shift","push","handleMoreVideoLoading","$lastVideo","intersectionObserver","isIntersecting","disconnect","$newLastVideo","observe","options","root","rootMargin","threshold","observer","IntersectionObserver","bind","$target","initInfiniteScroll","handleVideoSearch","preventDefault","target","SAVE_SUCCESS_MSG","SAVE_CANCEL_SUCCESS_MSG","VIDEO_DELETE_SUCCESS_MSG","EXCEED_SAVED_VIDEO_COUNT_MSG","VIDEO_MOVE_SUCCESS_MSG","TO_WATCH_TYPE","WATCHED_TYPE","$searchModal","$videoList","$videoSearchInput","openModal","focus","closeModal","renderSavedVideoList","videoListType","filteredVideoInfos","showSnackBar","contents","$snackbar","toggle","setTimeout","toggleFocusedModeButton","DELETE_VIDEO_CONFIRM_MSG","VIDEO_SAVE_CANCEL_CONFIRM_MSG","mode","handleVideoSave","closest","handleVideoSaveCancel","$saveCancelButton","window","confirm","videoSaveManager","handleLatestKeywordSearch","latestKeyword","handleWatchedButton","handleDeleteButton","handleButtonsControl","toggleMode","handleModeChange","initState","initEvent","addEventListener"],"mappings":";;A8BAA;;AAEA;AACA;A7BHA,ACAA,AqBAA,AFAA,AfAA,AcAA,AfAA,ASAA,MbAMI,ACAAM,AqBAA2L,AFAAjB,AfAArI,AcAAgI,AfAAjJ,ASAA+F,STAS,GAAG,CgBAC,EfAE,CLAC,AoBAA,ADAA,ANAA,ERAE,CLAC,AmBAA,ANAC,EZAC,GAAG,AqBAA,CFA9B,EnBAA,AqBAiC,OjBAjC,CcAA,UGAA,atBAA;A0BAA,ADAA,AEAA,AXAA,AQAA,ANAA,ADAA,AFAA,AXCEzG,AGDF,AgBAA,AdAA,AGAA,AbAA,AWAA,ARAA,EECEA,ILDIpB,CKCC,ALDA,EKCE,AKDA0F,APAA5E,CHACb,CKAQ,OLAA,IAAIC,CGAtB,CAAwBa,IOAxB,CAA6BS,APAA,CHAC,CAACrB,CGAC,EAAhC,EOAA,APAoC,EOAE,MVAhB,CAAuBF,QAAvB,CAAtB;AIAA,AHEA,ACDA,AqBAA,AFAA,AfAA,AcCA,ASFA,AnBCE,AHDF,AJCE,MFCII,ACDAM,AqBAA2L,AFAAjB,AfAArI,AcCAgI,GVDI,AHDD/H,AJCAjC,MAAM,CAACC,CGAC,CeAC,CpBCC,CKDC,CeAC,CpBCC,CEDb,CIDT,AJCwBF,CIDCI,GAAzB,CaE6B,AjBDpB,CDAqB,AmBA9B,AdD8BC,CJEzBF,CGDL,AcCgC,ClBDC,CAAjC,ACAS,CoBA0B,AhBDnC,AJES,CAAC,CIF2B,AJE1BC,CoBD2B,EpBC5B,EAAMC,IiBAhB,CjBAU,CAAD,KoBDT,ApBEMA,COFgDI,IPE3C,GOFmD,SAA5D,APEqBH,KAAjB,GAA0B,GAAEF,GAAI,IAAGC,KAAK,CAACE,IAAN,CAAW,GAAX,CAAgB,EAAnD,GAAwD,GAAEH,GAAI,IAAGC,KAAM,EAFpE,EAIJE,IAJI,CAIC,GAJD,CAAP;AFEAhB,A0BFF,ADCA,AEDA,AXAA,AQIA,ANJA,AVDA,ASCA,AFAA,AXEEsC,AGFF,AgBCA,AdAC,AEFD,ACEA,AFAA,AJDEM,AJKD,EFHC5C,AIAAsC,AEFAM,GFEG,CJAC,AuBDA2I,EvBCE,AIAA,CqBDCkB,AbAArF,AFAA5B,KJDK,CPCC9F,AODAmD,IiBCI,AbAnB,CAAoB4C,EaAE,AjBDpB,CAAqB5E,GAArB,EAA0BiC,CMC5B,CFAA,EEAgC,AFAA,AJDA,CAACC,CmBCjC,CAAmC,OnBDP,CAAejC,KAAf,CAA1B;AHAF,AHGIb,ACFJ,AkBEA,AMFqCuK,AGDrC,AxBGI,AmBDF1J,AXAA,AFAA,AJDD,EmBAoC0J,AFCnC1J,EvBCEb,ECFEK,AkBEAqK,CIDC,CbACjF,CaACoF,AXAC,AFAD,EVCE,AIAA,CMDC,CVCC,GIAGhK,AMDA6E,IAAJ,CNCR,AMDiBF,ETDE,GAAG,EAA1B,EkBE8B,CTDlB,CAAV,CSC+B,CIFX,gBJEtB;AnBDQ,A0BER,ADHmC,AEAnC,AXAA,AQIA,ANJA,AVDA,AOCA,AXGG,AGHH,AEEA,AYJA,CIEA,EzBAsB,AyBAyB,ArBF7B,MKITJ,mBAAT,CAA6BC,cAAc,GAAG,EAA9C,EAAkD;ANFlD,AHIEpF,ACFF,AkBEA,AMHE,AGDF,ALGEqC,AdAA,ACDA,AJAF,ENEErC,AuBDAqC,GAAG,CtBDChC,AkBEAqK,AMHA,AFEAqB,CvBCC,AyBHAzB,CfCC5E,CVEC,ASDC,AHDD5C,CiBCJ,EAAO,AbDA,CeDC,CAAC2F,CfCCjD,CAAC,CAACG,ETAE,GAAG,CwBDf,CAAiB+C,AnBCxB,CLAA,AKAyB/H,GIAV,AJAf,EAA8B,EmBDvB,CAA0B,CNGC,ATFAN,GSGhC,eMJK,CAAL,EAAqD,GfCrD,0BSEF;AnBCIJ,A0BDJ,ADDE,AECF,AXHA,AQIA,ANJA,AVDA,ASCA,AFCA,AXGEoC,AGHF,AgBEI,AZJJ,ALGE,AeJF,EjBMEA,EJAEpC,ASDAmF,CLCC,CaJCkE,AFCAlE,AXGA9C,EqBFEkK,CFCC5L,AZJAoF,ALGApD,INEI,AMFA,CFER,AmBDD,AjBDUG,CNEC,AOHAE,CHGC,CmBDC8I,CdAC,CACbrL,AHFI,CSDW,ATCAgC,CmBAC,AFCjB,CdAA,CMFmB,ANGd1B,CgBFesJ,ERFE,GAAG,AND7B,CcG8B,AhBEd,AELc,CcGC1C,AlBD/B,CAAgC1E,ADCA,CAACF,CGEbkC,MgBFlB,AnBAkB,CAAqBvE,CCDzC,EAA4C,ADCxB,CAAX,CAAP,OGEqC,CAACK,OAAD,CADnC,EAECqE,OAFD,GAGCvE,IAHD,CAGM,EAHN,CAGU,EAJZ;ANDF,AHES,AmBGT,AMFE,AGJF,AXCEF,AFCAA,AXGE,AGHF,AgBEC,AdGF,AER+BuB,ADG9B,AJCD,AQND,EGIEvB,AFCAA,AJH8BuB,CYAV,CZAQ,EQOxBwI,CFLC,AFCA,CRACzI,AGAA0D,CPDC7E,AcAA,AFCA,AXGAH,EaLoB,AFCN,ELCV,CNGT,EGHY,AGAA4E,CNGClD,AMHA,CAACuD,CHAC3C,MHGf,CDJJ,AOCgB,CPDWlC,AsBGlBwL,CNEmB,CZJC,CAAC9L,CYIC,CTJCL,CHAb,CJDe,AICA8C,GJDG,EAArC,CsBGE,CtBHuClC,EICE,EYI3C,EZJ+CkC,OJDO,EICE,AGAtD,CPDuD,AICAhB,EJDzD,AIC+C,CAAaiB,CJDC,MIC1C,CAAjB;AJAA,AHHoB,A0BKtB,ADCC,ATJD,AQIA,ANJA,AdKG,AGHD,AIJkCE,AUGpC,CrBHA,CWAoCA,MRG5B/C,AICA,KJDK,GAAG;AACZW,AyBEJ,AXFE6C,AFCAA,ARDQV,AgBGRjB,AZP4B,ADI5B,AILF,CHCA,CMIE2B,AFCAA,AQEA3B,CVTF,AFE+C6D,CRI3C/E,AIAMmC,CgBGL,CNHC,AFCA,EZDE,AoBGA,AbHAyC,COAC,AFCA,CZDCjG,EOAE,GDMGsF,ACNAK,CAAC,CAACO,ICJjB,EAAmE,CDIpD,KPASjG,COAMO,GPApB,CAAmBN,OADb,aOCd;APCEoB,AuBCJ,ACAA,AXHA,AQIA,ANJA,AVDA,ASGI,AFCA,AXRc,AGMV,AgBIJ,AZPF,CPHF,GDOIA,EIDgB,GJCX,AwBCAyL,AnBJAlI,AOIArC,AJLC,CMIAsH,CdAC9J,AoBGA,CRFP,ARFsB,CQEb,EUEE0M,AZEAlF,CUFCzG,CNHC,EUCjB,CVDoB,CMGhB,CIFkB,EnBJtB,CAAyB+D,KLGA3E,KAAd,CAAoBoB,CKH/B,EAAuC,KDESc,EJDhC,GYGaK,GRFH,CAAxB,yBQEW,KAAoC,EAA7C;AZAAlB,AwBCFgK,ACAF,ApBJE,ASGIzB,AFCH,ARDD,AgBGC,AbHD,AINF,GCEuB,AQFD,CpBMlBvI,EcAEuI,ETHE,CDGCvG,AGAC,COAA,EAAE,APAAqC,EPAE,AIAA,CHICpE,AGJAZ,CJACN,AOAC,EHAR,CAAU,CAAC,CGACwF,IiBCL8F,CjBDW,ECJCvJ,EMId,ANJgB,CgBK5B,AhBL6BiB,ADIA0C,IAAK,GCJG,ADIrC,MPHc,AcGJ,CADQ;AdEhBnF,AqBIJ,AhBRUyC,ASIJyG,AVDgB1H,AGCrB,AWFD,IlBEIxB,AKJMyC,ADGYjB,EUChB0H,AVDc,AcDdiB,ClBEC,EAAE,EKJD,KSIQ,EAAE,AIFA,GAAG,EJAD,ENFK5E,cUEF,IVFoB,CAAC5C,OAAO,CAACC,ERIpB,EAJhB,CQA2B,CAAgB,EUEtC,CAArB;AlBGIjC,AwBAF,ACAF,ApBLmBiC,ASKbuG,AFCJ1H,ARHwBkB,AgBKxBoI,AFLF,APLA,ECQEtJ,AQEAsJ,EpBHEpK,AKLeiC,ADGOD,CQGrB,CEDCwG,AIFAiB,ENGE,AQEA,CfRA,EeQG,EpBHE,EAAE9J,AcAA,CIFC,CJEC,EIFE,SlBHH,EQCcqC,GgBIPJ,IhBJc,AUEhB,CVFiBM,SAAU,GUE7B,CAAnB,EMEkCpB,GAAX,EAArB,EAAuCiJ,uBAAcjJ,GAAd,EAAvC;AxBCEb,AuBEJ,ACFE,AXJF,AQOA,ANHA,AVN0BiC,ASEN,AFKhB,ARJgB,AgBMhB,AFLJ,GdDmB,CJGfjC,AKNsBiC,CLMrB,AcJD,CIEEwH,ClBEChK,EuBEEyL,ARFAtC,AXHgC,AgBMhCvJ,ERFE,EPPH,CeSJ,CPPWwI,ANIA9D,CKCC1E,CQEC,IRFb,CQEkBA,CFLC,GAAG,CHE1B,AKGiB,CGDjB,CAA6BsJ,CRFC,EKGEU,CZPC1E,GeMjC,CVNA,CUMsC,AVNAzF,MKEV,CLF5B,EAA+C,ILAI,CAAC6C,KYOnC,EZP0C,CYOXuH,AZPYpH,KUElC,CAA1B,MVFmD,CAAuB,WYOzD,GAA8CmH,yBAA3D;ApBTY,AuBSd,ACFD,AXJC,AEIA,AUDF,ApBNqCnH,ASOjC,AFCD,ARJCtB,AgBMD,ATXH,GXCE,AYDqB,CPCcsB,ADIjCtB,EAAE,EmBKEkC,AVNA,AEIAgF,AXHA,CSDCA,CCICU,MSEM,AlBTR,EUOU,ADAA,CSECG,AVNX,EEIa,ADAA,ALTnB,EIKqBzJ,ECIEuJ,CSEC,CAACiC,GVNzB,ELA8B3I,EeMb,CAAgB,IRFZ,APJgB,CAACI,KMInB,CSEF,ATDb0F,ESC0CtE,GfNI,IeMjC,CAAqC1B,OAAtD,STD2B6G,IAAvB,CAA4B,IAA5B,CCDe,ADAA,CCAnB,CDEIN,OAFe,CAAjB;AdCF,AaJA,ARJiDjG,ASY/C,AVRMN,AKOT,ASLD,IbNmDM,EDIzCN,EJIF5B,AaJA8H,CCQCjH,AINA4I,GJML,CAASlB,AVRI,EAAE5H,GcEnB,ClBEmB,EcIf,AINiB,ClBEC,MaJM,GAAG,IAA7B,oBbImC5B,KAAf,CAApB;AAEA,AuBCA2C,ACFF,AXHE,AEGAoG,AUFF,ApBPQ,ASaL,AFHD,ARNM,AgBPc,AFUpBwB,APPF,CSHA,CFUEA,CJT2B,EVKY,CSGnC,ARN6DnG,AOU7DsD,CCJCoB,EbIE5H,AwBDAoL,GZCP,EZAY,AkBHA,ClBGE,AYAD,AMHApE,ELDE,CbIC7I,AaJA2J,ARNhB,IkBWW/E,ELJX,CMEF,ANFyBN,CMEC,ENFxB,CAA2B,GLD3B,AEGqBsF,EFHW,CKChC,EKIA,CAA2BnF,CvBDM,GeDjC,IQEA,IvBD2C7C,WAAY,EAA3C,CAAL,CACJE,IADI,CACCC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADT,EAEJC,KAFI,CAEEC,CAAC,IAAIC,OAAO,CAACC,KAAR,CAAcF,CAAd,CAFP,CAAP;AAGD,AwBJ2BwI,AXD1BhB,AQGF,AhBTE,AOSE,ARNAhG,AKQJ,ASLE0H,EMC0BV,AXD1BhB,AKAA0B,EdHE1H,KiBMK0I,AhBTA,AIWA7E,EGFE,ARNA,EAAE,EgBQEkE,CRFCzK,GMHG,CAACsK,CNGT,CCHW,ADGAjD,CCHCuB,CQGvB,CAAyBhB,AHHvB,GNGE,EHEJ,GILE,AJK+B,GYFjC,EAAsC;AECpC,ACHwB,AXCxB,AQEA,ANFAc,AUFF,ApBLInH,ASYFE,AFHC,ARNGkB,AKQJ,ASLD,CMAD,CVMElB,CUNoC,AZVf,CPInBF,CSYC,COHCe,AhBTA,ASYA6G,AVTAxG,ESIE,ARPA,CIWC2D,ELRE,EAAE5D,CUSR,EAAW,IVTI,CAACC,KiBMJkB,AjBPJ,GKSgB,CYFvB,ENFiBiF,ANIStC,CcFTlE,CFAEhD,IZEhB,CMJP,ANIqCE,CMJRiJ,UAA7B,GQEgCjH,GAAX,EAArB,EAAuCiJ,MFAvC,CZEO,CYFuC,AZE9C,ecFqDjJ,GAAd,EAAvC;AvBGF,AuBFE,ACHA,AXAQnB,AQGN,ANFH,AVRSmC,ASaN,AVTEI,AKQL,IILSvC,EWCNqJ,AnBRMlH,ADIJI,GJQGvB,AcCArB,GULC,CAACuB,CVKP,CULA,ApBJW,ESGP,ACMS4H,AVTAzG,GoBIC,IpBJM,CmBMTqH,ATGX,AVTqBnH,EiBMRkH,GrBEjB,CAA+BxI,GIVlB,KJU0B,GAAG,EAA1C,EAA8C,KwBJ1C,IACAmJ,SDCF,QFAE,MGDcjJ,GAAd,OAAwByI,wBAF1B,EAGE;AxBGF,AuBFD,ACAG+B,AXJqBvJ,AQKrB,AINJ,ApBNQ,AScL,AFHDhB,ARNIoB,AcGN,APTA,ECYEpB,CEhB2B,CUgBzBuK,AXJqBvJ,CRRhB,AOYJ,CAACwF,ARNApF,AONA6D,EXcE/G,CkBLC4K,IlBKI,CwBFC,ExBEE,CYFX,CRNa,CQMC,AMHnB,CdHoB7H,EcGE,APTA,GAAG,EPME,CAACG,YAHf,GOHc,oBAAF,CAAzB;AXeIvC,AwBFA,AXLI,AQML,ANHH,AVTIoC,AOWA,ARNEI,AcGJoH,APTF,EOSEA,ElBKE5J,AKbAoC,EQM+B,ATD7BI,AONA6D,EXcE,CYFC3G,CZECf,CKbC,CQM8B,CRN5B,COWT,AMHU,CHCCuK,ANIAjD,ASLAsB,ENGEI,ARNA,EAAEvF,KcGjB,APTsB,COSCc,CdHC,CAACT,AONA,CCYvB,CZEoB7D,EkBLtB,CHCF,AGDgC,ClBKtB,AeJuBgC,CfIJ/B,AeJ7B,EAAoC,EGDlC,ELDEqF,CbKY,IWba,QHOwBjD,EAAE,CAACiB,OAAQ,CKC7ChB,GAAf,AFRuB,CAA3B,EEQyBgD,wBAAe6C,MAAf,GAAwB,CAA7C,CADqC,EAErC3G,mBAAUc,GAAV,EAFqC,CAAvC;AbQED,AuBFJ,ACAG,ATFDL,AUDF,ApBTeyB,ASebnB,AFHC,ARXU,AcQZ,APTD,EIUEN,ADKAM,CCLC,AHfoB,CZmBnBD,AeJAkI,CDKC,AVhBoC,CJenC,AKdS9G,AMATiE,EXcEtF,AcCA,CSHCwK,ElBZI,KLYG,EeFd,MJVsB,GYYxB,AZZ2B,CYYCxC,OAA5B,EAAqC,QZZR,sBAAF,CAA3B;AXeIvJ,AuBFF,AVFAW,AQGA,ANFA,AVZoBkC,ASgBlB,AVTAI,AONJ,IXcIjD,AIRAiD,EmBME,AlBbgBJ,AMChBiE,CXcC,AuBFA2E,CRDCpL,CfGC,EcCE,ESHE,AnBNA,CmBMCqL,CRDC,AVZF,ADOEnJ,CUSCtC,ECJEkB,CAAC,CAACwI,CQCb,AVFKjI,ACKR,CSHkBwJ,AZZA,EEUpB,CAAc5K,ATJS,AONA,CUabuH,ANFM,AXLQ3E,CWKCwE,GXLZ,CAAgBlF,IWKb,CAAkB,CMEb,CRHrB,AQGsB8I,EjBPgB,GONb,CPMiB9I,CiBOhC,CAAoB,OjBPqB,CJQrB,AIRsBhB,EWKpC,AXL0B,CiBOhC,AjBP6CiB,CiBOvD,ANFwDxC,IQCnD,CAAL,ARDA,AJXuB,CPMmB,AON5C,CYYiD,InBNoBuB,EAAtD,EACRyB;AJIS,AuBGd,ACFA,AHEA,AhBf+BH,ASiB9B,AFHDS,ARfuC,AcYzC,ENGEA,CZFA,AclB2B,AVKV,CAAV,CQeJ,ARfH,CoBeEoG,AnBd6B7G,AOc3BqF,EWCEzE,CLJC+G,GMGC,CAACjJ,EAAP,CDCY,AXDX,EPdQ,AOcK,CWCC+H,CCDD,MDCQ,CAAC+B,ELJ3B,CAA8B/I,IKIX,CAAgB,KLJnC,EGIwBA,AHJkBmI,IKIvB,EAA6BvG,ECD5C,IACAuG,CDAe,ALJnB,CKIwDjI,CLJC,KGItBqB,CEAjC,GFAA,WGAgBrC,GAAd,OAAwBwI,yBAF1B,EAGE;AxBCF,AwBAEgC,AXLF,AQIA,ANHAxH,AVb6C1B,AOe3C,ARLH,AcEC,APTF,IacIkJ,EnBjB2ClJ,ELiBvClC,AkBLA8J,CPTC5D,CCYCqB,IYEI,KxBAK,AYFA,GZEG,AYFA,IGFL7E,AGDS,CNGCtD,EGFzB,AGAEyK,CHAiBrK,AJVrB,CAA+B2G,CCYT,CCHPtE,AQIQH,ATDU8F,GDZjC,CIUE,CFDA,AFToC,EEShB9F,ADGA,CAAmB4F,CMFxB,KAAK8B,INEA,CAAlB,CSC8BxI,ErBCG7B,CqBDd,EAArB,ErBCoB,AaLW6B,AQIQiJ,CrBCvC,EaLoB,EAApB,OKCE,GACI,CAAC,GAAGnI,IGE2Cd,GAAd,EAAvC,CHFM,EAAgBmC,MAAhB,CAAuBpB,SAAS,IAAI,CAACA,SAAS,CAACS,SAA/C,CADJ,GAEI,CAAC,GAAGV,UAAJ,EAAgBqB,MAAhB,CAAuBpB,SAAS,IAAIA,SAAS,CAACS,SAA9C,CAHN;AlBOA,AuBFAV,ACCC,AXJD,AQGA,AINF,ApBXa,ASmBXsG,AIFAuB,APbAzD,EGeAkC,AIFAuB,APbAzD,GNNO,GQgBDmC,CbKChI,GcAG,AIFA,CAACqG,ClBEC,CAAE,AyBRDgF,AXQA,GdAGlN,AWfA,CAACgI,EEUE,CUGRxD,ALAX,ELHsB,AYHxB,CPMyBkH,EONE,CFMzB,AZbA,CYakBjH,EZbY,GAAEsD,GYahC,AFAiBa,ErBEgB,AWfK,GEUd,CKGiB,CAACP,CPbC/H,GUa3C,ErBE2CsB,AkBFpB,GACnB,QlBCmD,EAA3C,CAAL,CACJE,IADI,CACCC,IAAI,GWhBqD,CXgBjDA,CWhBhB,GXgBoB,CAACC,EaNC,CAAtB,CbMgB,EADT,EAEJC,CkBHwByJ,IlBCpB,CAEExJ,CAAC,IAAIC,OAAO,CAACC,AkBHlB,CADmB,GAEnBiF,ClBEU,CAAcnF,CAAd,CAFP,CAAP,4BkBFA;AlBKD,AwBHA,AXHCwH,AQEA,ANJA,AUFA,ApBXE1F,ASmBA,AFHA,ARLJ,AcQC,APfA,EEWC0F,ERfE1F,EDWEV,EqBAEA,AbKA6F,CEGCnI,ITnBI,CSmBT,CTnBW,ASmBA4I,CVRC,CQKC,ERLE,EQKE,CCDC,ADClB,CCDmBE,CDCC,CSCTa,APEX,GWRexG,EZIjB,CAA6B0F,CYJvB,EAAN,UZIA,AEFwBrE,cMIxB,UNJuChD,GAAf,EAAxB;AQIA,AVDD,AQEA,ANHC,AUHA,ApBfO,ASuBN,AFHG,ARLJxB,EAAAA,CCfA,ASJ2B,IVmBtB,EAAE,EQKEA,ERLEkD,GQKP,ARLG,CQKQmF,CRNE,EICC9C,GIKd,CAAkB4C,SAAlB,EAA6B,CAA7B,EJLgC,CAACzF,GeKfJ,AELAA,IjBAsB,CAACK,KAAT,CAAgB,SeKnBkB,AELAA,IFKjC,AELA;AFMA,ARFA,AUHA,ApBXD,AOgBI,AMGL,APfA,QIUQgC,CGKC8E,APfA1D,MacMgF,ITJI,EGKnB,CHLsB,AGKArB,MHLM,EGK5B,EAAgC,APfhC,CYYuBtI,AELAA,AdPUkC,cAAjC,EAAiD,IYYfhD,AELAA,CVGMpB,EQEjB,AELA,EFKrB,AELA,EFKuCqK,AELAA,CVGb,CAA1B,qBQEqDjJ,AELAA,GFKd,AELA,EFKvC,AELA;AFMA,AFCF,ANHE,ADKAsH,AVRA,AcQA,APfAnC,EGeAmC,AHfAnC,MPOMxD,AcQA0H,CGFCS,APEA,CAAChC,EVRR,GSIad,ATJA,EUQN,AIAQ,EJAE,CIAC,APfA,CAACtB,SUarB,AVbE,CUa6BqE,EVbE,KOeX,IKHE9H,ERFEoC,IMG1B,EEDE,AFCgD,AHE9B,CAAlB,IHLA,EAAqCvD,EJVckC,cAApB,CAA/B,GIUgDhD,GAAX,EAArC;AQGA,AFCA,AIPAgD,ApBVF,ASmBI,AFHA,ARLA,AcSFqG,APhBD,EOgBCA,IGHI,CAACW,CTDC,CPhBCxH,ASmBAhE,CVRCoD,CcSC,CAAC4D,CGHC,ATDAhH,CSCCyL,APEV,CAAW3C,GTnBf,AOgBQ,CPhBW7E,AOgBAoD,ESCZ,AHGL,CGHoB6D,APElB,CAAmB5B,AVRA,CcSCsB,CKJTf,AlBhBf,AOgBQ,CaNS1G,ArBCS,CCXC,GoBUzB,AXSE,AFH0B5D,EMI5B,0BVTwDmD,IJAhBd,GQKtC,AJL6D,CeK/D,AfLgEgB,CaM3D,ATDiD,CSCtD,EAAoD,KbNsB,YJAlD,KAAgC,EAAtD;AmBMH,AFEC,ANJA,AVdA,ASmBC,AFHG,ARLF,AcSFiI,EAAAA,IHNIhF,EVdEtD,EDWEc,CQKCrD,AMIA,CAAC6H,INJN,CGFW,AVdA,AOgBAS,CGFCjB,EVdEvD,CaoBlB,CNJI,AMIgBgH,EHNpB,EAAwB,AXHA,EcSxB,CdT2B,AcSA,GGFXS,GhBlBiB,ADWAlJ,AcSjC,CbpBkC4B,MAAM,CAACC,MgBkBR,CAACmH,AhBlBD,CAAjC,ADWiD,CAACjI,KiBOlC,CAA0B,OjBPO,CAA/C,GiBOc,CAAhB;AACA,ANJEmG,AULF,AbOG,ARJD,AcQFwB,APhBF,EOgBEA,EHNExB,KXFK9H,AORA0F,GPQL,AcQQ,CdRC9D,AcQA,MAAM,GHNG,IJVtB,GPQI,AORyB,aUcLf,EITEkC,kBJSSX,IAAjC,EITuCrC,GAAf,EAAxB;AFQF,AFEE,ANJC,AVfDc,ASb2B,AV0B1B,AcQCuI,APhBFjE,CGlBF,CHkBEA,CPAiB,CcgBfiE,KKJKkB,ILII,CAAClE,MPhBM,CAACX,CNLR5D,CaqBT,CAAoBwH,CbrBtB,CAAevI,GkBiBjB,CAA8B,ALI1B,APhBF,COgB6B,EGFRD,AVdU,ENL/B,EaqBE,gBGF8Bd,GAAX,EAArB,EAAuCiJ,EVdvC,qBUcqDjJ,GAAd,EAAvC;AEF8BkI,AFG9B,ANJD,AUNChB,ApBTD,AOiBG,AMID,APhBF,EYW+BgB,CLGpB,EAEP,INJI1J,AMEG,CAAV,INFE,CEGW0I,AFHAH,GJLGhD,CIKd,CAAgB2C,UAAhB,EaRmB/E,IAArB,AjBGkC,CaOjBoI,AbPkB7I,OAAO,CAACG,SaO3C,GbPkC,CAAuB;AeI7B,AFI5B,AIVD,AbQG,ARJFS,AcQD,CKND,CnBFEA,CmBEwC,EnBFrC,CAACC,YAAD,EAAe,KiBMLqG,eTFKjI,yBSElB,ITFE,EAAiC,KAAK3B,KAAL,IAAc,EAA/C;AWDF,AFID,AhBnBD,AOiBG,ARJC,AORJ,MYUM0J,GlBfGvF,ADaAnE,AORAoH,GYUG,CAACS,CnBFT,CWEW2B,AXFAlG,GAAX,CAAeC,GmBEb,CAAiBuE,ClBfvB,CAAyB7D,MkBenB,AlBfN,ADaI,CmBE4B,AZVhC,CNLiC,AMKA4B,WAAjC,EAA8CvD,KYUxC,CAAJ,EAAoD,EZVtD,EAA0D;AYWtDuJ,AENJ,ApBTE,ADaE,AcQJ,APhBEjF,EAAAA,EYUEiF,IlBfI,CoBSCM,APYAnB,SOZT,EdJoB,CcIC,AdJA9D,EYUE,AfHA,CeGCwC,MAAD,AZVrB,CYUE,CLMJ,CPhBiC7D,EOgBE,KdRfjE,EIDcc,EGPU,CAAC2E,IHOJ,CAACvE,CGPT,GAC3B,OHMiB,CAAgC,GJCnD,EAA6B,CAAC,GAAG,KAAK9C,KAAT,CAA7B,MOPoB6F,WAAlB,EAA+BvD,UAA/B,CAD2B,GAE3BmE,iBAFJ;AYWE,AFIJ,AIVE,ApBVQjE,AOhBa,AR8BpB,AcQD,APdD,CCxBD,ERiBmB,CCDTA,KgBoBDkJ,WIVL,APYA,KGFJ,CAA0B,UIVxB,EAAoBU,aPYpB,EAAmCvE,COZnC,CAAqC,OAArC,APYA,CAA6CiD,COZCT,KPY9C,CAAoD,QOZpD,KPYA;AKLC,AFGyBX,AIT1B,ApBXM,AauBN,EGH0BA,IhBpBNzF,MAAM,CAACC,EOmBdM,KaRX,ApBXF,AauBE,qBOZF,EAAyB4H,SPYzB,EAAoCvE,KOZpC,CAA0C,GPY1C,CAA8CiD,GOZ9C,EAAmDP,CPYnD,CAAqD,aOZrD,APYA;AGHwB,AIRxB,ArBIA/G,AcQD,APdD,CUUA,CjBJEA,CiBIoC,KjBJ9B,CAACC,AONA6D,QPMD,EAAW,CqBJf,AjBGgBjC,CGLpB,CAAsBkC,YAAtB,EAAoCjF,EHKG,EiBHrC,EAAwB8J,IdF1B,EAAgD,UcE9C,CAAyC,QAAzC,EAAmD5C,oBAAnD;AFMA,AFGA,AIRA,ApBXAlH,ADeE,AONFsE,EAAAA,IYOI8C,AFGAA,IjBJIhG,EmBCE,AFGA,CEHCmE,AFGAA,OIRT,AdFgB,CAACX,CYOf,AFGA,AhBnBO1D,CkBgBUsE,AFGAA,AjBJA,GAAG,CAAC,CCfzB,CAAkBtF,CDeU,AON5B,CYOI,AFGA,CEH0B,AFGA,EVVE,CPMCxC,CCfjC,IDewB,EqBJxB,ArBIwC2D,EqBJdyI,IJQtB,AjBJoB,CiBIxB,AjBHI,CmBAA,AnBAC,CmBAL,AFGiD,EEHE,OELnD,CAA2C,OAA3C,AdFkD7E,EcEEmE,UdFpB,EAAgCpJ,McEhE,IdFgC,CAAhC;AYQEwJ,AFGAV,AIRF,ApBXD,ADeQ7J,AONR,IYOGuK,AFGAV,EjBJK7J,aiBIU,CAACmI,AIRhB,EFKkB,CAACA,GFGJ,CAAf,EEHkB,CAAlB,YELF,EAA0B0C,gBAA1B,CACE,OADF,EAEET,4BAFF;AFMC,AFIC,AINF,ArBAK,KAAD,KAAYpK,EAAE,CAACiB,OqBAjB,ArBAc,KAAeiB,QqBA/B,ArBDwB,CAAtB,CqBCe2I,gBAAjB,CAAkC,OAAlC,EAA2CL,sBAA3C;AFGD,AFIE,AIND,ApBdF,ADgBI,AOPJ,SPOStK,AOPA+F,GPOL,CAAS9D,EChBEU,AMSf,CAAgBhE,IcKZ,CjBpCF,EG+BF,EAAyB,CNTzB,ADgBI,CChBuBA,OAA3B,CoBcE,CpBdkC,CoBcfgM,gBAAnB,CAAoC,OAApC,EAA6CH,mBAA7C;AACA,ApBdA,ADgBC,AIFF,AGLCpF,EAAAA,CPdiB,KCKX,UMSU,CAACY,CcKf,OdLF,CAA0B,acK1B,EAAyB2E,KdLzB,EAAgDpM,KAAhD,GAAwDI,CcKxD,CAA0C,KdL1C,EcKA,EAAmD,CAAC;AJOpD,AIPsDsJ,ApBd9CrJ,AMURwG,EAAAA,EcIsD6C,ApBd9CrJ,EgBqBJqJ,MAAM,CAAC7B,EEJEkE,ElBjBP,CMUU,CAACtE,GUWb,CAAiBK,IVXrB,CAA0B,GUWtB,CAA0B,iBVX9B,EAAiDJ,IUW7C,CAAJ,AVXA,EUWwD;AACtD4D,AIRkD,ApBd7B7I,ADkBvBhB,AIFF,AGLC,EPOCA,CqBJmD,CJQjD6J,AhBtBqB7I,CDkBpB,CAACiB,EqBJ+D,CjBE5D8B,UJEJ,EAAgB,IiBII,CAACkE,CbN1B,CAA4BjE,IaMH,CAArB,EbNJ,EAAqC;AaOlC,AIRC,ApBfI,ADmBJ,AIFF,MHjBiC,EoBe3BiE,CrBIC1J,AIFAyF,GHjBgC,EoBe3B,ArBIV,CqBJWlE,CjBEC,CiBFR,ArBIS,EIDV,EJCc2B,CqBJC,ErBIL,CAAQQ,aAAR,CAAb,CCnBuDtD,EoBevD,EAAwC,GpBfH,CAAvC,iCGiBc,GAET,oDAFL;AaOD,AIRE,ArBIC,AIAH,AGPD,GcCE,MdDOuH,gBAAT,CAA0BC,WAA1B,EAAuC,CPOnBhG,yBAAhB,EAA6B,CAAC,GAAG,KAAK5B,KAAT,CAA7B;AqBHH,ApBhBCU,ADoBC,AOPD,GPnBiB,GOmBbkH,WAAW,CAACC,GNbNpG,GAAV,CAAcpB,EMaV,CAAsByH,QAAtB,CAA+B,CNbnC,eMaI,CAAJ,EAAsD;AHQxD,AGPIF,IAAAA,KHOK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","file":"js.d818e0ef.js","sourceRoot":"..","sourcesContent":["const $ = selector => document.querySelector(selector);\n\nexport default $;\n","const YOUTUBE_BASE_URL = 'https://www.googleapis.com/youtube/v3';\n\nconst YOUTUBE_QUERY = {\n  PART: {\n    SNIPPET: 'snippet',\n  },\n  ORDER: {\n    VIEWCOUNT: 'viewCount',\n  },\n};\n\nexport { YOUTUBE_BASE_URL, YOUTUBE_QUERY };\n","const MAX_SAVED_VIDEO_COUNT = 100;\nconst MAX_LATEST_KEYWORD_COUNT = 3;\nconst FETCH_VIDEO_COUNT = 10;\n\nconst NAN_CHARACTER = '-';\n\nexport {\n  MAX_SAVED_VIDEO_COUNT,\n  MAX_LATEST_KEYWORD_COUNT,\n  FETCH_VIDEO_COUNT,\n  NAN_CHARACTER,\n};\n","function getQueryString(query = {}) {\n  return Object.entries(query)\n    .map(([key, value]) =>\n      value instanceof Array ? `${key}=${value.join(',')}` : `${key}=${value}`\n    )\n    .join('&');\n}\n\nexport { getQueryString };\n","import { YOUTUBE_BASE_URL, YOUTUBE_QUERY } from './constants/API.js';\nimport { FETCH_VIDEO_COUNT } from './constants/classroom.js';\nimport { getQueryString } from './utils/queryString.js';\n\nfunction fetchSearchResult(keyword = '', nextPageToken = '') {\n  const query = {\n    part: YOUTUBE_QUERY.PART.SNIPPET,\n    order: YOUTUBE_QUERY.ORDER.VIEW_COUNT,\n    maxResults: FETCH_VIDEO_COUNT,\n    key: process.env.API_KEY ?? '',\n    pageToken: nextPageToken,\n    q: keyword,\n  };\n  const queryString = getQueryString(query);\n\n  return fetch(`${YOUTUBE_BASE_URL}/search?${queryString}`)\n    .then(data => data.json())\n    .catch(e => console.error(e));\n}\n\nfunction fetchLatestVideoInfos(videoIds = []) {\n  const query = {\n    part: YOUTUBE_QUERY.PART.SNIPPET,\n    id: videoIds,\n    key: process.env.API_KEY ?? '',\n  };\n  const queryString = getQueryString(query);\n\n  return fetch(`${YOUTUBE_BASE_URL}/videos?${queryString}`)\n    .then(data => data.json())\n    .catch(e => console.error(e));\n}\n\nexport { fetchSearchResult, fetchLatestVideoInfos };\n","const pageToken = {\n  value: '',\n\n  get() {\n    return this.value;\n  },\n\n  set(newToken) {\n    this.value = newToken;\n  },\n};\n\nexport default pageToken;\n","const LATEST_KEYWORDS = 'latestKeywords';\nconst VIDEO_INFOS = 'videoInfos';\n\nexport { LATEST_KEYWORDS, VIDEO_INFOS };\n","function setLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nexport { setLocalStorage, getLocalStorage };\n","import { fetchLatestVideoInfos } from '../API.js';\nimport { VIDEO_INFOS } from '../constants/localStorage.js';\nimport { getLocalStorage, setLocalStorage } from '../utils/localStorage.js';\n\nasync function updateVideoInfos(videoInfos) {\n  const videoIds = videoInfos.map(videoInfo => videoInfo.id.videoId);\n  const { items } = await fetchLatestVideoInfos(videoIds);\n\n  return items.map(({ id, snippet }) => ({\n    id: { videoId: id },\n    snippet: {\n      title: snippet.title,\n      channelId: snippet.channelId,\n      channelTitle: snippet.channelTitle,\n      publishTime: snippet.publishedAt,\n    },\n    isWatched: videoInfos.find(videoInfo => videoInfo.id.videoId === id)\n      .isWatched,\n  }));\n}\n\nconst videoInfos = {\n  value: new Set(),\n\n  async init() {\n    const oldVideoInfos = getLocalStorage(VIDEO_INFOS) ?? [];\n    const latestVideoInfos = await updateVideoInfos(oldVideoInfos);\n\n    this.set(latestVideoInfos);\n  },\n\n  add(newVideoInfo) {\n    this.value.add(newVideoInfo);\n    setLocalStorage(VIDEO_INFOS, [...this.value]);\n  },\n\n  remove(targetId) {\n    const newVideoInfos = [...this.value].filter(\n      ({ id }) => id.videoId !== targetId\n    );\n\n    this.set(newVideoInfos);\n  },\n\n  set(newVideoInfos) {\n    this.value = new Set(newVideoInfos);\n    setLocalStorage(VIDEO_INFOS, [...this.value]);\n  },\n\n  toggleWatchType(targetId) {\n    const newVideoInfos = [...this.value].map(videoInfo =>\n      videoInfo.id.videoId === targetId\n        ? {\n            ...videoInfo,\n            isWatched: !videoInfo.isWatched,\n          }\n        : videoInfo\n    );\n\n    this.set(newVideoInfos);\n  },\n\n  get() {\n    return this.value;\n  },\n\n  get size() {\n    return this.value.size;\n  },\n};\n\nexport default videoInfos;\n","import { fetchSearchResult } from './API.js';\nimport pageToken from './states/pageToken.js';\nimport videoInfos from './states/videoInfos.js';\n\nfunction createVideoInfo(videoDataset) {\n  const { videoId, title, channelId, channelTitle, publishTime } = videoDataset;\n\n  return {\n    id: { videoId },\n    snippet: { title, channelId, channelTitle, publishTime },\n    isWatched: false,\n  };\n}\n\nfunction saveVideo($video) {\n  const videoInfo = createVideoInfo($video.dataset);\n  videoInfos.add(videoInfo);\n}\n\nfunction cancelVideoSave($video) {\n  const { videoId } = $video.dataset;\n\n  videoInfos.remove(videoId);\n}\n\nasync function searchVideo(keyword) {\n  const { nextPageToken, items } = await fetchSearchResult(keyword);\n  pageToken.set(nextPageToken);\n\n  return items.filter(item => item.id.videoId);\n}\n\nexport { saveVideo, cancelVideoSave, searchVideo };\n","function keywordChipTemplate(keyword) {\n  return `<span class=\"js-latest-keyword chip mx-1\">${keyword}</span>`;\n}\n\nfunction keywordListTemplate(latestKeywords = []) {\n  return `<span class=\"text-gray-700\">최근 검색어: </span>\n  ${latestKeywords\n    .map(keyword => keywordChipTemplate(keyword))\n    .reverse()\n    .join('')}`;\n}\n\nexport default keywordListTemplate;\n","import { NAN_CHARACTER } from '../constants/classroom.js';\n\nfunction formatDate(dateString) {\n  const d = new Date(dateString);\n  const year = d.getFullYear() || NAN_CHARACTER;\n  const month = d.getMonth() || NAN_CHARACTER;\n  const date = d.getDate() || NAN_CHARACTER;\n\n  return `${year}년 ${month}월 ${date}일`;\n}\n\nexport default formatDate;\n","import formatDate from '../utils/date.js';\n\nfunction videoSnippetTemplate({ id, snippet }, buttonListTemplate) {\n  return `<article class=\"clip js-video\"\n            data-video-id=${id.videoId}\n            data-title=${encodeURIComponent(snippet.title)}\n            data-channel-id=${snippet.channelId}\n            data-channel-title=${encodeURIComponent(snippet.channelTitle)}\n            data-publish-time=${snippet.publishTime}\n          >\n            <div class=\"preview-container\">\n              <iframe\n                class=\"js-preview\"\n                width=\"100%\"\n                height=\"118\"\n                src=\"https://www.youtube.com/embed/${id.videoId}\"\n                frameborder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen\n              ></iframe>\n            </div>\n            <div class=\"content-container pt-2 px-1\">\n              <h3>${decodeURIComponent(snippet.title)}</h3>\n              <div>\n                <a\n                  href=\"https://www.youtube.com/channel/${snippet.channelId}\"\n                  target=\"_blank\"\n                  class=\"channel-name mt-1\"\n                >\n                ${decodeURIComponent(snippet.channelTitle)}\n                </a>\n                <div class=\"meta\">\n                  <p>${formatDate(snippet.publishTime)}</p>\n                </div>\n                <div class=\"d-flex justify-end\" >\n                  ${buttonListTemplate}\n                </div>\n              </div>\n            </div>\n          </article>`;\n}\n\nfunction saveButtonTemplate(isSaved) {\n  return isSaved\n    ? `<button class=\"btn js-save-cancel-button\"}>↪️ 저장 취소</button>`\n    : `<button class=\"btn js-save-button\"}>⬇️ 저장</button>`;\n}\n\nfunction isSavedVideo(item, videoInfos) {\n  return [...videoInfos].some(\n    videoInfo => videoInfo.id.videoId === item.id.videoId\n  );\n}\n\nfunction videoListTemplate(resultItems = [], videoInfos) {\n  return [...resultItems]\n    .map(item =>\n      videoSnippetTemplate(\n        item,\n        saveButtonTemplate(isSavedVideo(item, videoInfos))\n      )\n    )\n    .join('');\n}\n\nfunction controlButtonsTemplate(isWatched) {\n  return [\n    {\n      content: '✅',\n      className: 'js-watched-button',\n      isChecked: isWatched,\n    },\n    { content: '👍', className: 'js-like-button', isChecked: false },\n    { content: '💬', className: 'js-comment-button', isChecked: false },\n    { content: '🗑️', className: 'js-delete-button', isChecked: false },\n  ]\n    .map(\n      ({ content, className, isChecked }) =>\n        `<span class=\"${isChecked ? '' : 'opacity-hover'} ml-2 ${className}\">\n          ${content}\n        </span>`\n    )\n    .join('');\n}\n\nfunction savedVideoListTemplate(savedVideoInfos = []) {\n  return [...savedVideoInfos]\n    .map(item =>\n      videoSnippetTemplate(item, controlButtonsTemplate(item.watchType))\n    )\n    .join('');\n}\n\nconst emptyVideoListTemplate = `<span id=\"empty-video-list\" class=\"stretch text-center\">영상이 없습니다. 😥</span>`;\n\nexport { videoListTemplate, savedVideoListTemplate, emptyVideoListTemplate };\n","import { FETCH_VIDEO_COUNT } from '../constants/classroom.js';\n\nfunction skeletonClipTemplate() {\n  return `<article class=\"clip skeleton\">\n            <div class=\"preview-container image\">\n              <div ></div>\n            </div>\n            <div class=\"content-container pt-2\">\n              <div>\n                <div class=\"meta line\">\n                  <p></p>\n                </div>\n                <div class=\"d-flex justify-end line mt-3\"></div>\n              </div>\n            </div>\n          </article>`;\n}\n\nfunction videoSkeletonTemplate() {\n  return skeletonClipTemplate().repeat(FETCH_VIDEO_COUNT);\n}\n\nexport default videoSkeletonTemplate;\n","const notFoundTemplate = `\n    <div id=\"video-not-found\" class=\"stretch d-flex flex-col items-center\">\n      <img\n        src=\"./src/images/status/not_found.png\"\n        width=\"100px\"\n        alt=\"not found\"\n      />\n      <h2>검색결과가 없습니다.</h2>\n      <div>다른 검색어를 시도해 보거나 검색 필터를 삭제하세요.</div>\n    </div>\n  `;\n\nexport default notFoundTemplate;\n","import $ from '../utils/DOM.js';\nimport { MAX_SAVED_VIDEO_COUNT } from '../constants/classroom.js';\nimport keywordListTemplate from '../templates/keywordList.js';\nimport { videoListTemplate } from '../templates/videoList.js';\nimport videoSkeletonTemplate from '../templates/videoSkeleton.js';\nimport notFoundTemplate from '../templates/notFound.js';\n\nconst $savedVideoCount = $('#saved-video-count');\nconst $latestKeywordList = $('#latest-keyword-list');\nconst $videoSearchResult = $('#video-search-result');\nconst $videoSearchForm = $('#video-search-form');\n\nfunction renderSavedVideoCount(count) {\n  $savedVideoCount.innerText = `${count} / ${MAX_SAVED_VIDEO_COUNT}`;\n}\n\nfunction renderLatestKeywordList(latestKeywords) {\n  $latestKeywordList.innerHTML = keywordListTemplate(latestKeywords);\n}\n\nfunction renderVideoLoader() {\n  $videoSearchResult.innerHTML = videoSkeletonTemplate();\n}\n\nfunction renderVideoSearchResult(resultItems, videoInfos) {\n  $videoSearchResult.innerHTML = resultItems.length\n    ? videoListTemplate(resultItems, videoInfos)\n    : notFoundTemplate;\n}\n\nfunction appendVideos(searchResult, videoInfos) {\n  $videoSearchResult.innerHTML += videoListTemplate(searchResult, videoInfos);\n}\n\nfunction search(keyword) {\n  $videoSearchForm.elements['video-search-input'].value = keyword;\n  $videoSearchForm.elements['video-search-submit'].click();\n}\n\nfunction toggleSaveButton($saveButton) {\n  if ($saveButton.classList.contains('js-save-button')) {\n    $saveButton.innerText = '↪️ 저장 취소';\n    $saveButton.classList.remove('js-save-button');\n    $saveButton.classList.add('js-save-cancel-button');\n  } else {\n    $saveButton.innerText = '⬇️ 저장';\n    $saveButton.classList.remove('js-save-cancel-button');\n    $saveButton.classList.add('js-save-button');\n  }\n}\n\nfunction updateModalSaveButton(videoId) {\n  const $targetSaveButton = $(\n    `[data-video-id=${videoId}] .js-save-cancel-button`\n  );\n\n  toggleSaveButton($targetSaveButton);\n}\n\nexport {\n  renderSavedVideoCount,\n  renderLatestKeywordList,\n  renderVideoLoader,\n  renderVideoSearchResult,\n  appendVideos,\n  search,\n  toggleSaveButton,\n  updateModalSaveButton,\n};\n","import { MAX_LATEST_KEYWORD_COUNT } from '../constants/classroom.js';\nimport { LATEST_KEYWORDS } from '../constants/localStorage.js';\nimport { getLocalStorage, setLocalStorage } from '../utils/localStorage.js';\n\nconst latestKeywords = {\n  value: [],\n\n  init() {\n    this.set(getLocalStorage(LATEST_KEYWORDS) ?? []);\n  },\n\n  get() {\n    return this.value;\n  },\n\n  get length() {\n    return this.value.length;\n  },\n\n  set(newKeywords) {\n    this.value = newKeywords;\n  },\n\n  add(newKeyword) {\n    const targetIdx = this.value.indexOf(newKeyword);\n\n    if (targetIdx >= 0) {\n      this.value.splice(targetIdx, 1);\n    }\n\n    if (this.value.length === MAX_LATEST_KEYWORD_COUNT) {\n      this.value.shift();\n    }\n\n    this.value.push(newKeyword);\n    setLocalStorage(LATEST_KEYWORDS, this.value ?? []);\n  },\n};\n\nexport default latestKeywords;\n","import { fetchSearchResult } from '../API.js';\nimport { appendVideos } from '../viewControllers/searchModal.js';\nimport $ from '../utils/DOM.js';\nimport latestKeywords from '../states/latestKeywords.js';\nimport videoInfos from '../states/videoInfos.js';\nimport pageToken from '../states/pageToken.js';\n\nasync function handleMoreVideoLoading(entries) {\n  const [$lastVideo] = entries;\n  const intersectionObserver = this;\n\n  if (!$lastVideo.isIntersecting) return;\n\n  intersectionObserver.disconnect();\n\n  const { nextPageToken, items } = await fetchSearchResult(\n    latestKeywords.get()[latestKeywords.length - 1],\n    pageToken.get()\n  );\n\n  pageToken.set(nextPageToken);\n  appendVideos(items, videoInfos.get());\n\n  const $newLastVideo = $('#video-search-result .js-video:last-child');\n\n  intersectionObserver.observe($newLastVideo);\n}\n\nexport default handleMoreVideoLoading;\n","import handleMoreVideoLoading from '../handlers/moreVideoLoading.js';\nimport $ from '../utils/DOM.js';\n\nconst intersectionObserver = {\n  value: {},\n\n  init() {\n    const options = {\n      root: $('.modal-inner'),\n      rootMargin: '0px',\n      threshold: 0.85,\n    };\n    const observer = new IntersectionObserver(\n      handleMoreVideoLoading.bind(this),\n      options\n    );\n\n    this.set(observer);\n  },\n\n  set(observer) {\n    this.value = observer;\n  },\n\n  get() {\n    return this.value;\n  },\n\n  disconnect() {\n    this.value.disconnect();\n  },\n\n  observe($target) {\n    this.value.observe($target);\n  },\n};\n\nexport default intersectionObserver;\n","import { searchVideo } from '../service.js';\nimport intersectionObserver from '../states/intersectionObserver.js';\nimport latestKeywords from '../states/latestKeywords.js';\nimport videoInfos from '../states/videoInfos.js';\nimport $ from '../utils/DOM.js';\nimport {\n  renderLatestKeywordList,\n  renderVideoLoader,\n  renderVideoSearchResult,\n} from '../viewControllers/searchModal.js';\n\nfunction initInfiniteScroll() {\n  const $lastVideo = $('#video-search-result .js-video:last-child');\n\n  intersectionObserver.disconnect();\n  intersectionObserver.observe($lastVideo);\n}\n\nasync function handleVideoSearch(e) {\n  e.preventDefault();\n\n  const keyword = e.target.elements['video-search-input'].value;\n  latestKeywords.add(keyword);\n  renderLatestKeywordList(latestKeywords.get());\n\n  renderVideoLoader();\n  const resultItems = await searchVideo(keyword);\n  renderVideoSearchResult(resultItems, videoInfos.get());\n\n  if (resultItems.length) {\n    initInfiniteScroll();\n  }\n}\n\nexport default handleVideoSearch;\n","const SAVE_SUCCESS_MSG = '성공적으로 저장하였습니다.';\n\nconst SAVE_CANCEL_SUCCESS_MSG = '저장을 취소하였습니다.';\n\nconst VIDEO_DELETE_SUCCESS_MSG = '해당 영상을 삭제하였습니다.';\n\nconst EXCEED_SAVED_VIDEO_COUNT_MSG =\n  '최대 저장 개수를 초과했습니다. 기존에 저장된 영상을 삭제하고 다시 시도해주세요.';\n\nconst VIDEO_MOVE_SUCCESS_MSG = '영상을 이동시켰습니다.';\n\nexport {\n  EXCEED_SAVED_VIDEO_COUNT_MSG,\n  SAVE_SUCCESS_MSG,\n  SAVE_CANCEL_SUCCESS_MSG,\n  VIDEO_DELETE_SUCCESS_MSG,\n  VIDEO_MOVE_SUCCESS_MSG,\n};\n","const TO_WATCH_TYPE = 'toWatch';\nconst WATCHED_TYPE = 'watched';\n\nexport { TO_WATCH_TYPE, WATCHED_TYPE };\n","import $ from '../utils/DOM.js';\nimport {\n  savedVideoListTemplate,\n  emptyVideoListTemplate,\n} from '../templates/videoList.js';\nimport { TO_WATCH_TYPE } from '../constants/filterType.js';\n\nconst $searchModal = $('#video-search-modal');\nconst $videoList = $('#video-list');\nconst $videoSearchInput = $('#video-search-input');\n\nfunction openModal() {\n  $searchModal.classList.add('open');\n  $videoSearchInput.focus();\n}\n\nfunction closeModal() {\n  $searchModal.classList.remove('open');\n}\n\nfunction renderSavedVideoList(videoInfos, videoListType) {\n  const filteredVideoInfos =\n    videoListType === TO_WATCH_TYPE\n      ? [...videoInfos].filter(videoInfo => !videoInfo.isWatched)\n      : [...videoInfos].filter(videoInfo => videoInfo.isWatched);\n\n  $videoList.innerHTML = filteredVideoInfos.length\n    ? savedVideoListTemplate(filteredVideoInfos)\n    : emptyVideoListTemplate;\n}\n\nfunction showSnackBar(contents) {\n  const $snackbar = $('#snack-bar');\n\n  $snackbar.innerText = contents;\n  $snackbar.classList.toggle('show');\n  setTimeout(() => {\n    $snackbar.classList.toggle('show');\n  }, 3000);\n}\n\nfunction toggleFocusedModeButton() {\n  $('#watched-video-display-button').classList.toggle('bg-cyan-100');\n  $('#to-watch-video-display-button').classList.toggle('bg-cyan-100');\n}\n\nexport {\n  openModal,\n  closeModal,\n  renderSavedVideoList,\n  showSnackBar,\n  toggleFocusedModeButton,\n};\n","const DELETE_VIDEO_CONFIRM_MSG = '해당 영상을 삭제하시겠습니까?';\nconst VIDEO_SAVE_CANCEL_CONFIRM_MSG = '저장을 취소하시겠습니까?';\n\nexport { DELETE_VIDEO_CONFIRM_MSG, VIDEO_SAVE_CANCEL_CONFIRM_MSG };\n","import { TO_WATCH_TYPE, WATCHED_TYPE } from '../constants/filterType.js';\n\nconst videoListType = {\n  value: TO_WATCH_TYPE,\n\n  set(mode) {\n    this.value = mode;\n  },\n\n  get() {\n    return this.value;\n  },\n\n  toggle() {\n    this.value = this.value === TO_WATCH_TYPE ? WATCHED_TYPE : TO_WATCH_TYPE;\n  },\n};\n\nexport default videoListType;\n","import {\n  EXCEED_SAVED_VIDEO_COUNT_MSG,\n  SAVE_SUCCESS_MSG,\n  SAVE_CANCEL_SUCCESS_MSG,\n} from '../constants/snackbarMessage.js';\nimport { MAX_SAVED_VIDEO_COUNT } from '../constants/classroom.js';\nimport { cancelVideoSave, saveVideo } from '../service.js';\nimport videoInfos from '../states/videoInfos.js';\nimport { renderSavedVideoList, showSnackBar } from '../viewControllers/app.js';\nimport {\n  renderSavedVideoCount,\n  toggleSaveButton,\n} from '../viewControllers/searchModal.js';\nimport { VIDEO_SAVE_CANCEL_CONFIRM_MSG } from '../constants/confirmMessage.js';\nimport videoListType from '../states/videoListType.js';\n\nfunction handleVideoSave($saveButton) {\n  if (videoInfos.size >= MAX_SAVED_VIDEO_COUNT) {\n    showSnackBar(EXCEED_SAVED_VIDEO_COUNT_MSG);\n\n    return;\n  }\n\n  saveVideo($saveButton.closest('.js-video'));\n  renderSavedVideoCount(videoInfos.size);\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  toggleSaveButton($saveButton);\n  showSnackBar(SAVE_SUCCESS_MSG);\n}\n\nfunction handleVideoSaveCancel($saveCancelButton) {\n  if (!window.confirm(VIDEO_SAVE_CANCEL_CONFIRM_MSG)) return;\n\n  cancelVideoSave($saveCancelButton.closest('.js-video'));\n  renderSavedVideoCount(videoInfos.size);\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  toggleSaveButton($saveCancelButton);\n  showSnackBar(SAVE_CANCEL_SUCCESS_MSG);\n}\n\nfunction videoSaveManager({ target }) {\n  if (target.classList.contains('js-save-button')) {\n    handleVideoSave(target);\n\n    return;\n  }\n\n  if (target.classList.contains('js-save-cancel-button')) {\n    handleVideoSaveCancel(target);\n  }\n}\n\nexport default videoSaveManager;\n","import { search } from '../viewControllers/searchModal.js';\n\nfunction handleLatestKeywordSearch({ target }) {\n  if (!target.classList.contains('js-latest-keyword')) return;\n\n  const latestKeyword = target.innerText;\n\n  search(latestKeyword);\n}\n\nexport default handleLatestKeywordSearch;\n","import { DELETE_VIDEO_CONFIRM_MSG } from '../constants/confirmMessage.js';\nimport {\n  VIDEO_DELETE_SUCCESS_MSG,\n  VIDEO_MOVE_SUCCESS_MSG,\n} from '../constants/snackbarMessage.js';\nimport videoInfos from '../states/videoInfos.js';\nimport videoListType from '../states/videoListType.js';\nimport { renderSavedVideoList, showSnackBar } from '../viewControllers/app.js';\nimport {\n  renderSavedVideoCount,\n  updateModalSaveButton,\n} from '../viewControllers/searchModal.js';\n\nfunction handleWatchedButton($target) {\n  const targetId = $target.closest('.js-video').dataset.videoId;\n\n  videoInfos.toggleWatchType(targetId);\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  showSnackBar(VIDEO_MOVE_SUCCESS_MSG);\n}\n\nfunction handleDeleteButton($target) {\n  if (!window.confirm(DELETE_VIDEO_CONFIRM_MSG)) return;\n\n  const targetId = $target.closest('.js-video').dataset.videoId;\n\n  videoInfos.remove(targetId);\n  renderSavedVideoCount(videoInfos.size);\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  updateModalSaveButton(targetId);\n  showSnackBar(VIDEO_DELETE_SUCCESS_MSG);\n}\n\nfunction handleButtonsControl({ target }) {\n  if (target.classList.contains('js-watched-button')) {\n    handleWatchedButton(target);\n    return;\n  }\n  if (target.classList.contains('js-delete-button')) {\n    handleDeleteButton(target);\n  }\n}\n\nexport default handleButtonsControl;\n","import videoListType from '../states/videoListType.js';\nimport videoInfos from '../states/videoInfos.js';\nimport {\n  renderSavedVideoList,\n  toggleFocusedModeButton,\n} from '../viewControllers/app.js';\nimport { TO_WATCH_TYPE, WATCHED_TYPE } from '../constants/filterType.js';\n\nfunction toggleMode() {\n  videoListType.toggle();\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  toggleFocusedModeButton();\n}\n\nfunction handleModeChange({ target }) {\n  if (\n    target.id === 'to-watch-video-display-button' &&\n    videoListType.get() === WATCHED_TYPE\n  ) {\n    toggleMode();\n    return;\n  }\n  if (\n    target.id === 'watched-video-display-button' &&\n    videoListType.get() === TO_WATCH_TYPE\n  ) {\n    toggleMode();\n  }\n}\n\nexport default handleModeChange;\n","import $ from './utils/DOM.js';\nimport handleVideoSearch from './handlers/videoSearch.js';\nimport videoSaveManager from './handlers/videoSave.js';\nimport {\n  openModal,\n  closeModal,\n  renderSavedVideoList,\n} from './viewControllers/app.js';\nimport handleLatestKeywordSearch from './handlers/latestKeywordSearch.js';\nimport videoInfos from './states/videoInfos.js';\nimport latestKeywords from './states/latestKeywords.js';\nimport intersectionObserver from './states/intersectionObserver.js';\nimport handleButtonsControl from './handlers/buttonControl.js';\nimport handleModeChange from './handlers/modeChange.js';\nimport {\n  renderLatestKeywordList,\n  renderSavedVideoCount,\n} from './viewControllers/searchModal.js';\nimport videoListType from './states/videoListType.js';\n\nasync function initState() {\n  await videoInfos.init();\n  renderSavedVideoCount(videoInfos.size);\n  renderSavedVideoList(videoInfos.get(), videoListType.get());\n  latestKeywords.init();\n  renderLatestKeywordList(latestKeywords.get());\n  intersectionObserver.init();\n}\n\nfunction initEvent() {\n  $('#search-button').addEventListener('click', openModal);\n  $('#modal-close-button').addEventListener('click', closeModal);\n  $('#video-search-form').addEventListener('submit', handleVideoSearch);\n  $('#video-search-result').addEventListener('click', videoSaveManager);\n  $('#latest-keyword-list').addEventListener(\n    'click',\n    handleLatestKeywordSearch\n  );\n  $('#video-list').addEventListener('click', handleButtonsControl);\n  $('#mode-wrapper').addEventListener('click', handleModeChange);\n  $('#video-search-modal').addEventListener('click', ({ target }) => {\n    if (target.id === 'video-search-modal') closeModal();\n  });\n}\n\nexport { initState, initEvent };\n","import { initEvent, initState } from './init.js';\n\ninitState();\ninitEvent();\n"]}